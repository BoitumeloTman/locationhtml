<div id="details"></div>
<script>
    var reqcount = 0;

    navigator.geolocation.watchPosition(successCallback, errorCallback, options);

    function successCallback(position) {
        const { accuracy, latitude, longitude, altitude, heading, speed } = position.coords;
        reqcount++;

        // Update innerHTML by appending the data correctly
        details.innerHTML = "Accuracy: " + accuracy + "<br>";
        details.innerHTML += "Latitude: " + latitude + " | Longitude: " + longitude + "<br>";
        details.innerHTML += "Altitude: " + (altitude !== null ? altitude : "N/A") + "<br>";
        details.innerHTML += "Heading: " + (heading !== null ? heading : "N/A") + "<br>";
        details.innerHTML += "Speed: " + (speed !== null ? speed : "N/A") + "<br>";
        details.innerHTML += "Request Count: " + reqcount;
    }

    function errorCallback(error) {
        console.error('Error getting location:', error);
        details.innerHTML = "Error retrieving location: " + error.message;
    }

    var options = {
        enableHighAccuracy: false,
        timeout: 5000, // Timeout in 5 seconds
        maximumAge: 0, // Don't use a cached position
    };
</script>
